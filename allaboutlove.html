<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Okay Mag: all about love</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <link rel="stylesheet" href="css/allaboutlove.css">

  <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script type="text/javascript" src="script/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="script/draggable.js"></script>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="../../dist/images/favicon.png">

</head>

<body>
 <!-- Header
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div id="header" class="w3-container">
    <a href="allaboutlove.html"><img src="media/misc/banner.png" height="50"></a>
  </div>

<input type="checkbox" id="slide" name="" value="" />
  <div class="container">
    <label for="slide" class="toggle">☰</label>
    <nav class="sidebar"> 
      <ul>
        <li><a href="#"> Nav1 </a></li>
        <li><a href="#"> Nav2 </a></li>
        <li><a href="#"> Nav3 </a></li>
        <li><a href="#"> Nav4 </a></li>
        <li><a href="#"> Nav5 </a></li>
      </ul>
    </nav>
  </div>


<!-- Voice Notes Cloud
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<div id="cloud">
    <img id= "cloud" src="media/allaboutlove/8BitCloud.png">
</div>

<div id="voicenotes">

    <div id="amanda">
      <img class ="emojis" id="amanda-emoji" src="media/allaboutlove/heart.png">
      <audio id="amanda-sound">
      <source src="audio/Amanda.mp4" type="audio/mp4">
      </audio>
    </div>
    <div id="lily">
      <img class ="emojis" id="lily-emoji" src="media/allaboutlove/rainbow-01.png">
      <audio id="lily-sound">
        <source src="audio/lily.m4a" type="audio/mp4">
      </audio>
    </div>
    <div id="patrick">
      <img class ="emojis" id="patrick-emoji" src="media/allaboutlove/heart.png">
      <audio id="patrick-sound">
        <source src="audio/patrick.m4a" type="audio/mp4">
      </audio>
    </div>
</div>

 <!-- Brain Icon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<div id="brain-icon">

    <a id="trigger-bubble" onclick="var menu=document.getElementById('project-description'); if(menu.style.display=='none'){menu.style.display='block'} else{menu.style.display='none'}""><img src="media/allaboutlove/brain.png"></a>
    <div id="project-description" class= "speech-bubble" style="display: none">
      <h1> PROJECT DESCRIPTION </h1>
      <h2>During the fall of 2017, we (Klara and Noa) were taking time off of school, living outside our home country. 
Because of this, we didn’t have an institution to ground our learning and teaching. Many of our closest friends were far away, having different experiences. We were having lots of skype calls, and our sense of community was both online and off. We were thinking about how to maintain old connections as well as build new communities, as how to connect people from different parts of our lives. We were thinking about how to create intentional communities around central ideas, commitments, and values when people are spread across the world. </h2>

    </div>
  </div>


  <!-- Book Icon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <div id="book-icon">
    <a id="trigger-content-popup" onclick="var menu=document.getElementById('draggable'); if(menu.style.display=='none'){menu.style.display='block'} else{menu.style.display='none'}""><img src="media/allaboutlove/book.png"></a>
    <div id="draggable" class="content-modal ui-draggable ui-draggable-handle" style="display: none">
      <div class="content-modal-content">
         <a class="content-modal-close" onclick="var menu=document.getElementById('draggable'); if(menu.style.display=='block'){menu.style.display='none'}">close</a>
         <table style="width:100%">
  <tr>
    <td>Lorem Ipsum es simplemente el texto de relleno de las imprentas y archivos de texto. Lorem Ipsum ha sido el texto de relleno estándar de las industrias desde el año 1500, cuando un impresor (N. del T. persona que se dedica a la imprenta) desconocido usó una galería de textos y los mezcló de tal manera que logró hacer un libro de textos especimen. No sólo sobrevivió 500 años, sino que tambien ingresó como texto de relleno en documentos electrónicos, quedando esencialmente igual al original. Fue popularizado en los 60s con la creación de las hojas "Letraset", las cuales contenian pasajes de Lorem Ipsum, y más recientemente con software de autoedición, como por ejemplo Aldus PageMaker, el cual incluye versiones de Lorem Ipsum.</td>
    <td><img id="summary" src="media/allaboutlove/textsummary.jpg"></td> 
  </tr>
   <tr>
    <td><img id="questions" src="media/allaboutlove/questions-03.png"></td>
    <td><img id="discussion" src="media/allaboutlove/discussion-01.png"></td> 
  </tr>
</table>

      </div>
    </div>
  </div>


  <!-- Arrow Icon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <div id="arrow-icon">
      <a id="trigger-arrow" onclick="var menu=document.getElementById('arrow-description'); if(menu.style.display=='none'){menu.style.display='block'} else{menu.style.display='none'}""><img src="media/allaboutlove/wavy-arrow.png"></a>
    <div id="arrow-description" class= "speech-bubble-arrow" style="display: none">
      <h1> PROJECT DESCRIPTION </h1>
      <h2>Lorem Ipsum es simplemente el texto de relleno de las imprentas y archivos de texto. Lorem Ipsum ha sido el texto de relleno estándar de las industrias desde el año 1500, cuando un impresor (N. del T. persona que se dedica a la imprenta) desconocido usó una galería de textos y los mezcló de tal manera que logró hacer un libro de textos especimen. No sólo sobrevivió 500 años, sino que tambien ingresó como texto de relleno en documentos electrónicos, quedando esencialmente igual al original. Fue popularizado en los 60s con la creación de las hojas "Letraset", las cuales contenian pasajes de Lorem Ipsum, y más recientemente con software de autoedición, como por ejemplo Aldus PageMaker, el cual incluye versiones de Lorem Ipsum.</h2>

    </div>
      
   </div>

</body>
<script type="text/javascript">


  //manually adjust volume of some sounds
  document.getElementById("lily-sound").volume = .3


  var currentAudio;
  var currentFriend;
  //dictionary of voices.  keys are names of friends, values are divs containing an emoji and audio file for each friend.
  var friends = {
    "amanda": document.getElementById('amanda'),
    "lily": document.getElementById('lily'),
    "patrick": document.getElementById('patrick')
  }


  //helper functions
  var makeOpaque = function(name) {
    var div = friends[name];
    var currentEmoji = div.getElementsByTagName('img')[0];
    currentEmoji.style.opacity = 1;
  }
  var makeTransparent = function(name) {
    var div = friends[name];
    var currentEmoji = div.getElementsByTagName('img')[0];
    currentEmoji.style.opacity = .5;
  }    



  //function to be triggered on each friend div click.  

  var triggerAudio = function(name){

    //already listening to this friend, so pause.  Now currentFriend is undefined, back to initial state.  
    if (currentFriend == name) {
      currentAudio.pause();
      currentFriend = undefined;
      currentAudio = undefined;

      //restore friend emojis to default opacity.
      for(friend in friends) {
        makeOpaque(friend)
      }

      return;
    }


    //Otherwise pause currentFriend and move to new Friend (name)
    //if no audio defined yet, ignore.  Else pause current audio.
    if (currentAudio){currentAudio.pause()};

    var div = friends[name];
    currentAudio = div.getElementsByTagName('audio')[0];
    currentFriend = name;
    for(friend in friends) {
      if(friend !== currentFriend){
        makeTransparent(friend);
      }
    }
    makeOpaque(currentFriend);

    console.log(currentAudio);
    console.log(name);

    //play current friend from the beginning
    currentAudio.currentTime = 0;
    currentAudio.play();
  }




  //set the onclick event for each friend div, which will handle switching the current audio and opacity of images
  for(friend in friends) {
      friends[friend].onclick = triggerAudio.bind(null, friend); 
  }


  
</script>
</html>